(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3695],{70282:function(e,n,t){Promise.resolve().then(t.bind(t,30090))},30090:function(e,n,t){"use strict";t.r(n);var r=t(61943),i=t(11735),o=t(57437);t(2265);var u=t(62279),a=t(95888),s=t(51005),c=t(66648),l=t(70766),d=t(28325),p=t(55922),f=t(33814),m=t(87138),h=t(21159),v=t(58433),g=t(29982);t(32658);var x=t(32141),j=t(81705),y=t(91606),N=new Intl.NumberFormat("vi-VN",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});n.default=function(){var e,n=(0,h.v9)(function(e){var n;return null===(n=e.user.userInfo)||void 0===n?void 0:n.id}),t=(0,h.v9)(function(e){return e.product.allProductFavourite.data}),w=(0,h.v9)(function(e){return e.pagination.page}),P=(0,h.v9)(function(e){return e.product.allProductFavourite.totalPage}),b=(0,h.I0)(),I=(e=(0,r._)(function(e,t){var r,o,u,a,s,c,m;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(!n)return[3,9];i.label=1;case 1:return i.trys.push([1,7,,8]),[4,(0,l.n8)(n,e)];case 2:if(!((r=i.sent())&&0===r.errCode))return[3,5];return[4,(0,l.UW)(n)];case 3:return o=i.sent(),b((0,p.dG)(null==o?void 0:o.data)),[4,b((0,d.th)({userId:n,limit:g.nj,page:t?w-1:w}))];case 4:return i.sent(),t&&b((0,x.A6)(w-1)),[3,6];case 5:f.Am.error(null==r?void 0:r.message,{className:"toast-normal"}),i.label=6;case 6:return[3,8];case 7:return console.log(u=i.sent()),(null==u?void 0:null===(s=u.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.errCode)===-4?(f.Am.error("Phi\xean bản đăng nhập hết hạn",{className:"toast-normal"}),b((0,p.ni)())):f.Am.error(null==u?void 0:null===(m=u.response)||void 0===m?void 0:null===(c=m.data)||void 0===c?void 0:c.message,{className:"toast-normal"}),[3,8];case 8:return[3,10];case 9:f.Am.error("Vui l\xf2ng đăng nhập",{className:"toast-normal"}),i.label=10;case 10:return[2]}})}),function(n,t){return e.apply(this,arguments)});return(0,o.jsxs)("div",{className:"favourite-container",children:[(0,o.jsx)(j.Z,{theme:y.rS,children:(0,o.jsx)(v.ZP,{container:!0,rowSpacing:{xl:1.5,lg:1.5,md:2,sm:2,xs:2},columnSpacing:{xl:1.5,lg:1.5,md:2,sm:2,xs:2},children:t&&(null==t?void 0:t.length)>0?null==t?void 0:t.map(function(e,n){var r;return(0,o.jsx)(v.ZP,{item:!0,xl:3,lg:4,md:6,sm:6,xs:12,children:(0,o.jsxs)(m.default,{href:"/".concat((0,y.Np)(e.productTypeData.productTypeName),"-").concat(e.productTypeData.productTypeId.toLowerCase(),"/").concat((0,y.Np)(e.name),"-").concat(e.productId.toLowerCase()),className:"productWrapper",children:[(0,o.jsx)(c.default,{src:e.image,height:0,width:0,priority:!0,sizes:"100vw",style:{objectFit:(null===(r=e.productTypeData)||void 0===r?void 0:r.productTypeName)==="\xc1o cầu l\xf4ng"?"cover":"contain"},className:"productImg",alt:"product"}),(0,o.jsx)("button",{className:"favorite",onClick:function(e){e.preventDefault()},children:(0,o.jsx)(a.Z,{onClick:function(){I(e.productId,(null==t?void 0:t.length)===1&&P===w)},className:"icon",style:{color:"red"}})}),(0,o.jsxs)("div",{className:"productInfo",children:[(0,o.jsx)("p",{className:"productName",children:e.name}),(0,o.jsxs)("div",{className:"productRating",children:[(0,o.jsx)(s.Z,{defaultValue:0,value:e.rating,precision:.5,readOnly:!0,style:{fontSize:"2.5rem"}}),(0,o.jsxs)("p",{style:{lineHeight:1.5},children:[e.rating,"/",(0,o.jsx)("span",{children:"5"})]})]}),(0,o.jsxs)("div",{className:"productPrice",children:[(0,o.jsxs)("p",{style:{color:0!==e.discount?"rgba(0,0,0,.54)":"var(--primary-color)",textDecoration:0!==e.discount?"line-through":"",marginRight:10},children:[N.format(e.price),(0,o.jsx)("span",{style:{textDecoration:"underline",marginLeft:2},children:"đ"})]}),0!==e.discount?(0,o.jsxs)("p",{children:[N.format(e.price-e.price*e.discount/100),(0,o.jsx)("span",{style:{textDecoration:"underline",marginLeft:2},children:"đ"})]}):null]})]})]})},n)}):(0,o.jsxs)("div",{className:"no-product",children:[(0,o.jsx)("h1",{children:"Kh\xf4ng c\xf3 sản phẩm n\xe0o"}),(0,o.jsx)(c.default,{src:"/images/noProduct.png",height:315,width:315,priority:!0,sizes:"100vw",alt:":(("})]})})}),(0,o.jsx)("div",{style:{marginTop:50},children:(0,o.jsx)(u.Z,{type:"favourite-product"})})]})}},70766:function(e,n,t){"use strict";t.d(n,{Ak:function(){return h},C6:function(){return d},F$:function(){return s},Md:function(){return c},Rm:function(){return f},UW:function(){return x},VP:function(){return v},a5:function(){return j},gY:function(){return p},n8:function(){return g},p_:function(){return l},yX:function(){return m}});var r,i,o=t(61943),u=t(11735),a=t(15149),s=function(e,n){return a.ZP.post("/api/user/login-user",{email:e,password:n})},c=(r=(0,o._)(function(e){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return[4,a.v4.get("/api/user/get-user-infor?userId=".concat(e))];case 1:return[2,n.sent()]}})}),function(e){return r.apply(this,arguments)}),l=function(e){return a.ZP.post("/api/user/register",e)},d=function(e){return a.ZP.post("/api/user/send-otp-code",{email:e})},p=function(e){return a.ZP.put("/api/user/change-password",e)},f=function(e){return a.v4.get("/api/user/get-user?id=".concat(e))},m=function(e){return a.v4.put("/api/user/update-user",e)},h=function(e){return a.v4.put("/api/user/change-password-profile",e)},v=function(e){return a.v4.post("/api/favourite/create-favourite",e)},g=function(e,n){return a.v4.delete("/api/favourite/delete-favourite?userId=".concat(e,"&productId=").concat(n))},x=function(e){return a.v4.get("/api/favourite/get-all-favourite?userId=".concat(e))},j=(i=(0,o._)(function(e){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return[4,a.ZP.post("/api/user/refresh-token",{},{headers:{Authorization:"Bearer ".concat(e)}})];case 1:return[2,n.sent()]}})}),function(e){return i.apply(this,arguments)})},32658:function(){}},function(e){e.O(0,[8147,3676,3216,4036,1159,9562,6648,6920,7746,7762,4866,8433,1005,9480,8325,2279,2971,7023,1744],function(){return e(e.s=70282)}),_N_E=e.O()}]);