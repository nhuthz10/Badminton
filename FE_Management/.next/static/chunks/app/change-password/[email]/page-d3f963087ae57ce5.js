(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5481],{42867:function(t,e,n){Promise.resolve().then(n.bind(n,8341))},16463:function(t,e,n){"use strict";var a=n(71169);n.o(a,"usePathname")&&n.d(e,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(e,{useRouter:function(){return a.useRouter}})},94473:function(t,e,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(t,e,n,a){void 0===a&&(a=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,o)}:function(t,e,n,a){void 0===a&&(a=n),t[a]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},i=this&&this.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&0>e.indexOf(a)&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)0>e.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n};Object.defineProperty(e,"__esModule",{value:!0});var s=c(n(2265)),u=n(3045),l=n(27390),d=n(29653);e.default=function(t){var e=t.loading,n=t.color,o=void 0===n?"#000000":n,r=t.speedMultiplier,c=void 0===r?1:r,p=t.cssOverride,h=t.size,f=void 0===h?50:h,v=i(t,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,l.parseLengthAndUnit)(f),m=g.value,b=g.unit,x=a({display:"inherit",position:"relative",width:(0,l.cssValue)(f),height:(0,l.cssValue)(f),transform:"rotate(165deg)"},void 0===p?{}:p),w=m/5,j=(m-w)/2,y=j-w,O=(0,u.calculateRgba)(o,.75),_=(0,d.createAnimation)("HashLoader","0% {width: ".concat(w,"px; box-shadow: ").concat(j,"px ").concat(-y,"px ").concat(O,", ").concat(-j,"px ").concat(y,"px ").concat(O,"}\n    35% {width: ").concat((0,l.cssValue)(f),"; box-shadow: 0 ").concat(-y,"px ").concat(O,", 0 ").concat(y,"px ").concat(O,"}\n    70% {width: ").concat(w,"px; box-shadow: ").concat(-j,"px ").concat(-y,"px ").concat(O,", ").concat(j,"px ").concat(y,"px ").concat(O,"}\n    100% {box-shadow: ").concat(j,"px ").concat(-y,"px ").concat(O,", ").concat(-j,"px ").concat(y,"px ").concat(O,"}"),"before"),F=(0,d.createAnimation)("HashLoader","0% {height: ".concat(w,"px; box-shadow: ").concat(y,"px ").concat(j,"px ").concat(o,", ").concat(-y,"px ").concat(-j,"px ").concat(o,"}\n    35% {height: ").concat((0,l.cssValue)(f),"; box-shadow: ").concat(y,"px 0 ").concat(o,", ").concat(-y,"px 0 ").concat(o,"}\n    70% {height: ").concat(w,"px; box-shadow: ").concat(y,"px ").concat(-j,"px ").concat(o,", ").concat(-y,"px ").concat(j,"px ").concat(o,"}\n    100% {box-shadow: ").concat(y,"px ").concat(j,"px ").concat(o,", ").concat(-y,"px ").concat(-j,"px ").concat(o,"}"),"after"),N=function(t){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(m/5).concat(b),height:"".concat(m/5).concat(b),borderRadius:"".concat(m/10).concat(b),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(1===t?_:F," ").concat(2/c,"s infinite")}};return void 0===e||e?s.createElement("span",a({style:x},v),s.createElement("span",{style:N(1)}),s.createElement("span",{style:N(2)})):null}},29653:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=void 0,e.createAnimation=function(t,e,n){var a="react-spinners-".concat(t,"-").concat(n);if("undefined"==typeof window||!window.document)return a;var o=document.createElement("style");document.head.appendChild(o);var r=o.sheet,c="\n    @keyframes ".concat(a," {\n      ").concat(e,"\n    }\n  ");return r&&r.insertRule(c,0),a}},3045:function(t,e){"use strict";var n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.calculateRgba=void 0,(n=a||(a={})).maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF",e.calculateRgba=function(t,e){if(Object.keys(a).includes(t)&&(t=a[t]),"#"===t[0]&&(t=t.slice(1)),3===t.length){var n="";t.split("").forEach(function(t){n+=t+t}),t=n}var o=(t.match(/.{2}/g)||[]).map(function(t){return parseInt(t,16)}).join(", ");return"rgba(".concat(o,", ").concat(e,")")}},27390:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssValue=e.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(t){if("number"==typeof t)return{value:t,unit:"px"};var e,a=(t.match(/^[0-9.]*/)||"").toString();e=a.includes(".")?parseFloat(a):parseInt(a,10);var o=(t.match(/[^0-9]*$/)||"").toString();return n[o]?{value:e,unit:o}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}e.parseLengthAndUnit=a,e.cssValue=function(t){var e=a(t);return"".concat(e.value).concat(e.unit)}},8341:function(t,e,n){"use strict";n.r(e);var a=n(61943),o=n(7570),r=n(47002),c=n(11735),i=n(57437),s=n(6920),u=n(39343),l=n(2265),d=n(33814);n(44193);var p=n(70766),h=n(16463),f=n(15943);n(81804);var v=n(45079),g=n(66648),m=n(55922);e.default=function(t){var e,n=t.params,b=(0,r._)((0,l.useState)(!1),2),x=b[0],w=b[1],j=(0,r._)((0,l.useState)(!1),2),y=j[0],O=j[1],_=(0,h.useRouter)(),F=(0,u.cI)(),N=F.register,I=F.handleSubmit,P=F.formState.errors,k=(e=(0,a._)(function(t){var e,a,o,r,i,s,u,l,h,f,v,g;return(0,c.Jh)(this,function(c){switch(c.label){case 0:w(!0),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,(0,p.gY)({email:decodeURIComponent(n.email),otpCode:t.otp,password:t.password})];case 2:return(e=c.sent())&&0===e.errCode&&(d.Am.success("Đổi mật khẩu th\xe0nh c\xf4ng"),_.push("/login")),[3,5];case 3:return(null==(a=c.sent())?void 0:null===(r=a.response)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.errCode)===2?d.Am.error("M\xe3 OTP của bạn kh\xf4ng ch\xednh x\xe1c"):(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.errCode)===3?d.Am.error("M\xe3 OTP của bạn đ\xe3 hết hạn"):(null==a?void 0:null===(l=a.response)||void 0===l?void 0:null===(u=l.data)||void 0===u?void 0:u.errCode)===4?d.Am.error("Người d\xf9ng kh\xf4ng tồn tại"):(null==a?void 0:null===(f=a.response)||void 0===f?void 0:null===(h=f.data)||void 0===h?void 0:h.errCode)===-4?(d.Am.error("Phi\xean bản đăng nhập hết hạn"),dispatch((0,m.ni)())):d.Am.error(null==a?void 0:null===(g=a.response)||void 0===g?void 0:null===(v=g.data)||void 0===v?void 0:v.message),[3,5];case 4:return w(!1),[7];case 5:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,i.jsx)(f.Z,{loading:x,children:(0,i.jsxs)("div",{className:"change-password-container",children:[(0,i.jsx)("div",{className:"bg-gradient",children:(0,i.jsx)(g.default,{width:0,height:0,sizes:"100vw",src:"/images/bg-gradient.png",alt:"background",className:"fullImg"})}),(0,i.jsxs)("div",{className:"change-password-content",children:[(0,i.jsx)(g.default,{width:0,height:0,sizes:"100vw",priority:!0,src:"/images/coming-soon-object1.png",alt:"object1",className:"object1"}),(0,i.jsx)(g.default,{width:0,height:0,sizes:"100vw",priority:!0,src:"/images/coming-soon-object2.png",alt:"object2",className:"object2"}),(0,i.jsx)(g.default,{width:0,height:0,sizes:"100vw",src:"/images/coming-soon-object3.png",alt:"object3",className:"object3"}),(0,i.jsx)(g.default,{width:0,height:0,sizes:"100vw",src:"/images/polygon-object.svg",alt:"polygon",className:"polygon"}),(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("div",{className:"inner",children:(0,i.jsxs)("div",{className:"change-password-form-container",children:[(0,i.jsx)("h1",{className:"change-password-title",children:"Đổi mật khẩu"}),(0,i.jsxs)("div",{className:"change-password-content",children:[(0,i.jsxs)("div",{className:"change-password-wrap-password",children:[(0,i.jsx)("label",{htmlFor:"OTPInput",className:"change-password-label",style:{color:"rgb(71 76 90)",fontSize:"var(--title-small-fontSize)",fontWeight:500,marginBottom:8},children:"M\xe3 OTP"}),(0,i.jsx)("div",{className:"change-password-password",children:(0,i.jsx)("input",(0,o._)({className:"change-password-input",id:"OTPInput",type:"text",placeholder:"Nhập m\xe3 OTP"},N("otp",{required:"Nhập m\xe3 OTP của bạn"})))}),P.otp&&(0,i.jsx)("p",{className:"errer",children:P.otp.message})]}),(0,i.jsxs)("div",{className:"change-password-wrap-password",children:[(0,i.jsx)("label",{htmlFor:"passwordInput",className:"change-password-label",style:{color:"rgb(71 76 90)",fontSize:"var(--title-small-fontSize)",fontWeight:500,marginBottom:8},children:"Mật khẩu"}),(0,i.jsxs)("div",{className:"change-password-password",children:[(0,i.jsx)("input",(0,o._)({className:"change-password-input",id:"passwordInput",type:y?"text":"password",placeholder:"Nhập mật khẩu mới"},N("password",{required:"Nhập mật khẩu của bạn",minLength:{value:8,message:"Tối thiểu 8 k\xfd tự"}}))),(0,i.jsx)(s.G,{icon:y?v.Mdf:v.Aq,className:"change-password-icon",onClick:function(){O(!y)}})]}),P.password&&(0,i.jsx)("p",{className:"errer",children:P.password.message})]}),(0,i.jsx)("button",{className:"change-password-send",onClick:I(k),children:"Đổi mật khẩu"})]})]})})})]})]})})}},15149:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});var a=n(38472),o=a.Z.create({baseURL:"http://localhost:8080"}),r=a.Z.create({baseURL:"http://localhost:8080"});r.interceptors.response.use(function(t){return t.data}),o.interceptors.response.use(function(t){return t.data}),e.Z=o},15943:function(t,e,n){"use strict";var a=n(7570),o=n(57437),r=n(94473),c=n.n(r),i=n(2265);e.Z=function(t){var e=t.children,n=t.loading,r=t.style;return(0,i.useEffect)(function(){n&&window.scrollTo({top:0,behavior:"smooth"})},[n]),(0,o.jsxs)("div",{className:"loading-container",style:(0,a._)({position:"relative"},r),children:[n&&(0,o.jsx)("div",{className:"loading-overlay",style:{position:"absolute",top:0,right:0,left:0,bottom:0,zIndex:"9999",background:"rgba(255, 255, 255, 0.4)"},children:(0,o.jsx)(c(),{color:"#FF8080",size:"100px",speedMultiplier:1.5,loading:!0,cssOverride:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"99999"}})}),e]})}},55922:function(t,e,n){"use strict";n.d(e,{Ib:function(){return c},n1:function(){return i},ni:function(){return r}});var a=(0,n(34036).oM)({name:"user",initialState:{login:!1,userInfo:[],favourites:[],cartId:null},reducers:{logIn:function(t,e){t.login=!0,t.userInfo=e.payload},logOut:function(t){t.login=!1,t.userInfo=[],t.favourites=[],t.cartId=null},updateAvatar:function(t,e){t.userInfo.avatar=e.payload},updateFavourites:function(t,e){t.favourites=e.payload},updateCartId:function(t,e){t.cartId=e.payload}}}),o=a.actions,r=o.logOut,c=o.logIn,i=o.updateAvatar;o.updateFavourites,o.updateCartId,e.ZP=a.reducer},70766:function(t,e,n){"use strict";n.d(e,{Ak:function(){return v},C6:function(){return d},Cp:function(){return l},F$:function(){return s},IM:function(){return w},Ki:function(){return m},Md:function(){return u},Pc:function(){return b},Rm:function(){return h},Sm:function(){return x},a5:function(){return j},gY:function(){return p},iG:function(){return g},yX:function(){return f}});var a,o,r=n(61943),c=n(11735),i=n(15149),s=function(t,e){return i.Z.post("/api/user/login-admin",{email:t,password:e})},u=(a=(0,r._)(function(t){return(0,c.Jh)(this,function(e){switch(e.label){case 0:return[4,i.v.get("/api/user/get-user-infor?userId=".concat(t))];case 1:return[2,e.sent()]}})}),function(t){return a.apply(this,arguments)}),l=function(t){return i.v.post("/api/user/create-user",t)},d=function(t){return i.v.post("/api/user/send-otp-code",{email:t})},p=function(t){return i.v.put("/api/user/change-password",t)},h=function(t){return i.v.get("/api/user/get-user?id=".concat(t))},f=function(t){return i.v.put("/api/user/update-user",t)},v=function(t){return i.v.put("/api/user/change-password-profile",t)},g=function(t,e,n){return i.v.get("/api/user/get-all-user?limit=".concat(t,"&page=").concat(e,"&name=").concat(n))},m=function(t){return i.v.delete("/api/user/delete-user?id=".concat(t))},b=function(){return i.v.get("/api/user/get-all-role")},x=function(t,e){return i.v.get("/api/notification/get-all-notification-admin?userId=".concat(t,"&status=").concat(e))},w=function(t){return i.v.put("/api/notification/update-notification",t)},j=(o=(0,r._)(function(t){return(0,c.Jh)(this,function(e){switch(e.label){case 0:return[4,i.Z.post("/api/user/refresh-token",{},{headers:{Authorization:"Bearer ".concat(t)}})];case 1:return[2,e.sent()]}})}),function(t){return o.apply(this,arguments)})},44193:function(){},81804:function(){}},function(t){t.O(0,[2171,9931,3676,8436,9343,6274,6648,2971,7023,1744],function(){return t(t.s=42867)}),_N_E=t.O()}]);