(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4819],{26178:function(e,t,r){Promise.resolve().then(r.bind(r,74726))},74726:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(61943),i=r(47002),a=r(11735),s=r(57437),c=r(2265),o=r(58433),l=r(33814);r(44193);var u=r(87138),d=r(66648);r(46106);var m=r(38278),f=function(e){var t=e.chartData,r=e.xLabels,n=(0,i._)((0,c.useState)(0),2),a=n[0],o=n[1],l=(0,c.useRef)(),u=function(){if(l.current){o(l.current.offsetWidth-50);var e=l.current.querySelector("div");e&&(e.style.width="".concat(l.current.offsetWidth,"px"))}};return(0,c.useEffect)(function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}},[]),(0,s.jsx)("div",{style:{width:"100%",height:"100%"},ref:l,className:"wrap-chart",children:(0,s.jsx)(m.v,{height:450,width:a,series:[{data:t,id:"revenueId"}],xAxis:[{data:r,scaleType:"band",categoryGapRatio:.5}]})})},h=r(38550),g=r(55922),v=r(91606),p=r(86970),x=r(21159),j=[1,2,3,4,5,6,7,8,9,10,11,12],N=new Intl.NumberFormat("vi-VN",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),b=function(){var e=(0,i._)((0,c.useState)([]),2),t=e[0],r=e[1],m=(0,i._)((0,c.useState)([]),2),b=m[0],w=m[1],y=(0,i._)((0,c.useState)(0),2),S=y[0],I=y[1],P=(0,i._)((0,c.useState)(0),2),Z=P[0],_=P[1],T=(0,i._)((0,c.useState)(0),2),E=T[0],C=T[1],F=(0,i._)((0,c.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),2),z=F[0],A=F[1],D=(0,x.I0)();return(0,c.useEffect)(function(){var e;(e=(0,n._)(function(){var e,t,n,i,s,c,o,u,d,m,f;return(0,a.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,h.R$)()];case 1:return(e=a.sent())&&0===e.errCode&&(r(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.allProduct),I(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.totalIncome),_(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.totalOrder),C(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.totalProduct),w(null==e?void 0:null===(c=e.data)||void 0===c?void 0:c.allTotalOrder.map(function(e){return"X\xe1c nhận"===e.label?(e.img="/images/image 37.png",e.to="/order/order-waiting"):"Đang giao"===e.label?(e.img="/images/image 36.png",e.to="/order/order-delivery"):"Ho\xe0n tất"===e.label?(e.img="/images/image 34.png",e.to="/order/order-done"):(e.img="/images/image 35.png",e.to="/order/order-canceled"),e}))),[3,3];case 2:return console.log(o=a.sent()),(null==o?void 0:null===(d=o.response)||void 0===d?void 0:null===(u=d.data)||void 0===u?void 0:u.errCode)===-4?(l.Am.error("Phi\xean bản đăng nhập hết hạn"),D((0,g.ni)())):l.Am.error(null==o?void 0:null===(f=o.response)||void 0===f?void 0:null===(m=f.data)||void 0===m?void 0:m.message),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,c.useEffect)(function(){var e;e=[0,0,0,0,0,0,0,0,0,0,0,0],null==t||t.forEach(function(t){var r=new Date().getFullYear(),n=new Date(t.time),i=n.getMonth();if(n.getFullYear()===r)switch(i){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:e[i]+=t.totalPrice}}),A(e)},[t]),(0,s.jsxs)("div",{className:"admin-overview",children:[(0,s.jsx)("div",{className:"statistic",children:(0,s.jsx)(p.f6,{theme:v.rS,children:(0,s.jsxs)(o.ZP,{container:!0,rowSpacing:2,columnSpacing:{xl:14,lg:6,md:4,sm:2,xs:2},children:[(0,s.jsx)(o.ZP,{item:!0,xl:4,lg:4,md:4,sm:4,xs:12,children:(0,s.jsxs)("div",{className:"statistic-item",children:[(0,s.jsx)(d.default,{className:"statistic-item-img",height:64,width:73,src:"/images/image 29.png",alt:"img"}),(0,s.jsxs)("div",{className:"statistic-item-info",children:[(0,s.jsx)("p",{className:"text",children:"Tổng doanh thu"}),(0,s.jsx)("p",{className:"number",children:N.format(S)})]})]})}),(0,s.jsx)(o.ZP,{item:!0,xl:4,lg:4,md:4,sm:4,xs:12,children:(0,s.jsxs)("div",{className:"statistic-item",children:[(0,s.jsx)(d.default,{className:"statistic-item-img",height:64,width:73,src:"/images/image 27.png",alt:"img"}),(0,s.jsxs)("div",{className:"statistic-item-info",children:[(0,s.jsx)("p",{className:"text",children:"Tổng đơn h\xe0ng"}),(0,s.jsx)("p",{className:"number",children:N.format(Z)})]})]})}),(0,s.jsx)(o.ZP,{item:!0,xl:4,lg:4,md:4,sm:4,xs:12,children:(0,s.jsxs)("div",{className:"statistic-item",children:[(0,s.jsx)(d.default,{className:"statistic-item-img",height:64,width:73,src:"/images/image 28.png",alt:"img"}),(0,s.jsxs)("div",{className:"statistic-item-info",children:[(0,s.jsx)("p",{className:"text",children:"Tổng sản phẩm"}),(0,s.jsx)("p",{className:"number",children:N.format(E)})]})]})})]})})}),(0,s.jsxs)("div",{className:"chart-container",children:[(0,s.jsx)("h1",{className:"text",children:"THỐNG K\xca DOANH THU"}),(0,s.jsx)(f,{chartData:z,xLabels:j})]}),(0,s.jsxs)("div",{className:"order-status-container",children:[(0,s.jsx)("h1",{className:"order-status-heading",children:"THỐNG K\xca ĐƠN H\xc0NG"}),(0,s.jsxs)(o.ZP,{className:"order-status-grid-container",container:!0,children:[(0,s.jsx)(o.ZP,{className:"order-status-item order-item-left",style:{borderTop:"1px solid gray"},item:!0,xs:6,children:(0,s.jsx)("h2",{style:{fontSize:"var(--title-medium-fontSize)"},children:"Trạng th\xe1i đơn h\xe0ng"})}),(0,s.jsx)(o.ZP,{className:"order-status-item order-item-right",style:{borderTop:"1px solid gray"},item:!0,xs:6,children:(0,s.jsx)("h2",{style:{fontSize:"var(--title-medium-fontSize)"},children:"Số lượng"})}),(null==b?void 0:b.length)>0&&(null==b?void 0:b.map(function(e,t){return(0,s.jsxs)(c.Fragment,{children:[(0,s.jsxs)(o.ZP,{className:"order-status-item order-item-left",item:!0,xs:6,children:[(0,s.jsx)(d.default,{height:50,width:55,src:e.img,alt:"img"}),(0,s.jsx)("p",{children:e.label})]}),(0,s.jsxs)(o.ZP,{className:"order-status-item order-item-right",item:!0,xs:6,children:[(0,s.jsx)("p",{children:e.quantity}),(0,s.jsx)(u.default,{className:"detail",href:e.to,children:"Xem chi tiết"})]})]},t)}))]})]})]})}},15149:function(e,t,r){"use strict";r.d(t,{v:function(){return a}});var n=r(38472),i=n.Z.create({baseURL:"http://localhost:8080"}),a=n.Z.create({baseURL:"http://localhost:8080"});a.interceptors.response.use(function(e){return e.data}),i.interceptors.response.use(function(e){return e.data}),t.Z=i},55922:function(e,t,r){"use strict";r.d(t,{Ib:function(){return s},n1:function(){return c},ni:function(){return a}});var n=(0,r(34036).oM)({name:"user",initialState:{login:!1,userInfo:[],favourites:[],cartId:null},reducers:{logIn:function(e,t){e.login=!0,e.userInfo=t.payload},logOut:function(e){e.login=!1,e.userInfo=[],e.favourites=[],e.cartId=null},updateAvatar:function(e,t){e.userInfo.avatar=t.payload},updateFavourites:function(e,t){e.favourites=t.payload},updateCartId:function(e,t){e.cartId=t.payload}}}),i=n.actions,a=i.logOut,s=i.logIn,c=i.updateAvatar;i.updateFavourites,i.updateCartId,t.ZP=n.reducer},38550:function(e,t,r){"use strict";r.d(t,{JY:function(){return i},Jq:function(){return o},Nk:function(){return s},P8:function(){return c},Pg:function(){return u},R$:function(){return l},Ui:function(){return a}});var n=r(15149),i=function(e,t){return n.v.get("/api/order/get-order-detail?orderId=".concat(e,"&userId=").concat(t))},a=function(e){return n.v.put("/api/order/delivering-order",e)},s=function(e){return n.v.put("/api/order/succeed-order",e)},c=function(e){return n.v.delete("/api/order/delete-order?orderId=".concat(e))},o=function(e,t,r){return n.v.get("/api/order/get-all-order-admin?status=".concat(e,"&limit=").concat(t,"&page=").concat(r))},l=function(){return n.v.get("/api/order/order-statistics")},u=function(e,t,r,i){return n.v.get("/api/order/order-report?timeStart=".concat(e,"&timeEnd=").concat(t,"&limit=").concat(r,"&page=").concat(i))}},91606:function(e,t,r){"use strict";r.d(t,{Nr:function(){return l},rS:function(){return u}});var n=r(47002),i=r(20920),a=r(4596),s=r.n(a),c=r(2265),o=r(94444),l=function(e,t){var r=(0,n._)((0,c.useState)(e),2),i=r[0],a=r[1];return(0,c.useEffect)(function(){var r=setTimeout(function(){return a(e)},t);return function(){return clearTimeout(r)}},[e,t]),i},u=(0,o.Z)({breakpoints:{values:{xs:0,sm:576,md:768,lg:992,xl:1200}}});t.ZP=function(e){e=s()(e.replace(/[^a-zA-Z0-9]/g,""));for(var t="",r=(0,i.Z)(),n=0;n<e.length;n++)n%2==0&&(t+=e[n]);return t.toUpperCase()+r.slice(0,5).toUpperCase()}},46106:function(){}},function(e){e.O(0,[2171,9931,8436,1159,4444,8113,4470,5157,7138,6648,4959,1290,7608,2971,7023,1744],function(){return e(e.s=26178)}),_N_E=e.O()}]);